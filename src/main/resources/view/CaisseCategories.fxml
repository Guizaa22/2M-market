<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.FlowPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<AnchorPane styleClass="root" stylesheets="@/styles/caissecategories.css" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="controller.CaisseCategoriesController">

   <children>
      <!-- ========================================
           CONTENEUR PRINCIPAL
           ======================================== -->
      <VBox spacing="0" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0">

         <!-- ========================================
              HEADER - Barre supÃ©rieure moderne
              ======================================== -->
         <HBox alignment="CENTER_LEFT" spacing="15" styleClass="header-box">
            <padding>
               <Insets bottom="12" left="25" right="25" top="12" />
            </padding>
            <children>
               <!-- Logo & Titre -->
               <HBox alignment="CENTER_LEFT" spacing="10">
                  <Label style="-fx-font-size: 28px;" text="ðŸª" />
                  <Label styleClass="header-title" text="2M Market - Point de Vente">
                     <font>
                        <Font name="System Bold" size="22.0" />
                     </font>
                  </Label>
               </HBox>

               <!-- Espaceur -->
               <Region HBox.hgrow="ALWAYS" />

               <!-- Badge Panier -->
               <HBox alignment="CENTER" spacing="12">
                  <Label fx:id="panierCountLabel" styleClass="panier-badge" text="Panier: 0">
                     <font>
                        <Font name="System Bold" size="14.0" />
                     </font>
                  </Label>

                  <!-- Bouton Panier -->
                  <Button fx:id="panierButton" onAction="#handleVoirPanier" styleClass="panier-button" text="ðŸ›’ Panier">
                     <font>
                        <Font name="System Bold" size="14.0" />
                     </font>
                  </Button>

                  <!-- Bouton DÃ©connexion -->
                  <Button fx:id="deconnexionButton" onAction="#handleDeconnexion" styleClass="logout-button" text="ðŸšª DÃ©connexion">
                     <font>
                        <Font name="System Bold" size="14.0" />
                     </font>
                  </Button>
               </HBox>
            </children>
         </HBox>

         <!-- ========================================
              SECTION RECHERCHE RAPIDE
              ======================================== -->
         <VBox spacing="10" styleClass="search-section">
            <padding>
               <Insets bottom="15" left="25" right="25" top="15" />
            </padding>
            <children>
               <!-- Titre de la section -->
               <HBox alignment="CENTER_LEFT" spacing="8">
                  <Label style="-fx-font-size: 18px;" text="ðŸ”" />
                  <Label styleClass="section-title" text="Recherche Rapide">
                     <font>
                        <Font name="System Bold" size="16.0" />
                     </font>
                  </Label>
               </HBox>

               <!-- Ligne de recherche et quantitÃ© -->
               <HBox alignment="CENTER_LEFT" spacing="12" styleClass="search-bar">
                  <!-- Champ de recherche -->
                  <VBox spacing="4" HBox.hgrow="ALWAYS">
                     <Label styleClass="search-label" text="Nom ou Code-barres">
                        <font>
                           <Font name="System Bold" size="12.0" />
                        </font>
                     </Label>
                     <TextField fx:id="rechercheField" onAction="#handleRecherche" promptText="Scannez ou tapez le nom du produit..." styleClass="search-field" HBox.hgrow="ALWAYS" />
                  </VBox>

                  <!-- ContrÃ´le de quantitÃ© -->
                  <VBox spacing="4">
                     <Label styleClass="search-label" text="QuantitÃ©">
                        <font>
                           <Font name="System Bold" size="12.0" />
                        </font>
                     </Label>
                     <HBox alignment="CENTER" spacing="6">
                        <Button fx:id="moinsButton" onAction="#handleMoinsQuantite" styleClass="quantity-minus" text="âž–" />

                        <TextField fx:id="quantiteField" styleClass="quantity-field" text="1" />

                        <Button fx:id="plusButton" onAction="#handlePlusQuantite" styleClass="quantity-plus" text="âž•" />
                     </HBox>
                  </VBox>

                  <!-- Bouton Ajouter -->
                  <VBox spacing="4">
                     <Label style="-fx-font-size: 12px;" text=" " />
                     <Button fx:id="ajouterRapideButton" onAction="#handleAjouterRapide" styleClass="add-button" text="âœš Ajouter">
                        <font>
                           <Font name="System Bold" size="13.0" />
                        </font>
                     </Button>
                  </VBox>
               </HBox>

               <!-- Info produit trouvÃ© -->
               <Label fx:id="produitInfoLabel" styleClass="product-info" text="">
                  <font>
                     <Font name="System Bold" size="13.0" />
                  </font>
               </Label>
            </children>
         </VBox>

         <!-- SÃ©parateur -->
         <Separator />

         <!-- ========================================
              SECTION CATÃ‰GORIES
              ======================================== -->
         <VBox spacing="10" styleClass="categories-section" VBox.vgrow="ALWAYS">
            <padding>
               <Insets bottom="15" left="25" right="25" top="15" />
            </padding>
            <children>
               <!-- Titre -->
               <HBox alignment="CENTER_LEFT" spacing="8">
                  <Label style="-fx-font-size: 18px;" text="ðŸ“‚" />
                  <Label styleClass="section-title" text="SÃ©lectionnez une CatÃ©gorie">
                     <font>
                        <Font name="System Bold" size="16.0" />
                     </font>
                  </Label>
               </HBox>

               <!-- ScrollPane avec les catÃ©gories -->
               <ScrollPane fitToWidth="true" style="-fx-background-color: transparent; -fx-background: transparent;" VBox.vgrow="ALWAYS">
                  <content>
                     <FlowPane fx:id="categoriesContainer" hgap="15" style="-fx-background-color: transparent;" vgap="15">
                        <padding>
                           <Insets bottom="5" left="5" right="5" top="5" />
                        </padding>
                     </FlowPane>
                  </content>
               </ScrollPane>
            </children>
         </VBox>
      </VBox>
   </children>
</AnchorPane>
